BEGIN ~DMURDAUG~

IF WEIGHT #1
~NumTimesTalkedTo(0)~ THEN BEGIN 0
  SAY @25597
  IF ~~ THEN REPLY @25644 GOTO 30
  IF ~~ THEN REPLY @25645 GOTO 1
  IF ~~ THEN REPLY @25650 GOTO 18
  IF ~~ THEN REPLY @25651 EXIT
END

IF ~~ THEN BEGIN 1
  SAY @25598
  IF ~~ THEN DO ~SetGlobal("Know_Kieran","GLOBAL",1)~ EXTERN ~DKIERAN2~ 15
END

IF ~~ THEN BEGIN 2
  SAY @25599
  IF ~~ THEN REPLY @25652 DO ~SetGlobal("Know_Murdaugh","GLOBAL",1)~ GOTO 3
  IF ~~ THEN REPLY @25653 GOTO 18
  IF ~~ THEN REPLY @25654 EXIT
END

IF ~~ THEN BEGIN 3
  SAY @25600
  IF ~~ THEN REPLY @25655 GOTO 18
  IF ~~ THEN REPLY @25656 GOTO 4
  IF ~~ THEN REPLY @25658 GOTO 5
  IF ~Class(LastTalkedToBy,BARD_ALL)~ THEN REPLY @25660 GOTO 10
  IF ~~ THEN REPLY @25661 GOTO 10
  IF ~~ THEN REPLY @25662 EXIT
END

IF ~~ THEN BEGIN 4
  SAY @25607
  IF ~~ THEN REPLY @25663 GOTO 18
  IF ~~ THEN REPLY @25658 GOTO 5
  IF ~~ THEN REPLY @25665 EXIT
END

IF ~~ THEN BEGIN 5
  SAY @25608
  IF ~~ THEN GOTO 6
END

IF ~~ THEN BEGIN 6
  SAY @25609
  IF ~~ THEN REPLY @25666 GOTO 7
  IF ~Class(LastTalkedToBy,BARD_ALL)~ THEN REPLY @25667 GOTO 10
  IF ~~ THEN REPLY @25668 GOTO 10
  IF ~~ THEN REPLY @25653 GOTO 18
  IF ~~ THEN REPLY @25670 EXIT
END

IF ~~ THEN BEGIN 7
  SAY @25610
  IF ~~ THEN REPLY @25671 GOTO 8
  IF ~~ THEN REPLY @25672 GOTO 9
  IF ~~ THEN REPLY @25673 EXIT
END

IF ~~ THEN BEGIN 8
  SAY @25611
  IF ~~ THEN REPLY @25674 GOTO 10
  IF ~~ THEN REPLY @25675 GOTO 9
  IF ~~ THEN REPLY @25677 GOTO 18
  IF ~~ THEN REPLY @25679 EXIT
END

IF ~~ THEN BEGIN 9
  SAY @25612
  IF ~~ THEN REPLY @25680 GOTO 10
  IF ~~ THEN REPLY @25681 GOTO 18
  IF ~~ THEN REPLY @25679 EXIT
END

IF ~~ THEN BEGIN 10
  SAY @25614
  IF ~~ THEN EXTERN ~DKIERAN2~ 16
END

IF ~~ THEN BEGIN 11
  SAY @25615
  IF ~~ THEN REPLY @25684 GOTO 12
  IF ~~ THEN REPLY @25685 GOTO 13
  IF ~~ THEN REPLY @25686 GOTO 18
  IF ~~ THEN REPLY @25654 EXIT
END

IF ~~ THEN BEGIN 12
  SAY @25617
  IF ~PartyGoldGT(0)~ THEN REPLY @25688 DO ~TakePartyGold(1)~ GOTO 14
  IF ~PartyGoldGT(4)~ THEN REPLY @25689 DO ~TakePartyGold(5)~ GOTO 17
  IF ~PartyGoldGT(9)
      Gender(LastTalkedToBy,MALE)~ THEN REPLY @25690 DO ~TakePartyGold(10)~ GOTO 15
  IF ~PartyGoldGT(9)
      Gender(LastTalkedToBy,FEMALE)~ THEN REPLY @25690 DO ~TakePartyGold(10)~ GOTO 16
  IF ~~ THEN REPLY @25692 GOTO 18
  IF ~PartyGoldLT(1)~ THEN REPLY @25693 EXIT
  IF ~PartyGoldGT(0)~ THEN REPLY @25694 EXIT
END

IF ~~ THEN BEGIN 13
  SAY @25618
  IF ~~ THEN REPLY @25695 GOTO 12
  IF ~~ THEN REPLY @25677 GOTO 18
  IF ~~ THEN REPLY @25654 EXIT
END

IF ~~ THEN BEGIN 14
  SAY @25619
  IF ~~ THEN GOTO 17
END

IF ~~ THEN BEGIN 15
  SAY @25620
  IF ~~ THEN GOTO 17
END

IF ~~ THEN BEGIN 16
  SAY @25621
  IF ~~ THEN GOTO 17
END

IF ~~ THEN BEGIN 17
  SAY @25622
  IF ~~ THEN REPLY @25570 DO ~SetGlobal("Murdaugh_Quest","GLOBAL",2)
                              SetGlobal("Know_Rose","GLOBAL",1)~ GOTO 33
  IF ~~ THEN REPLY @25702 DO ~SetGlobal("Murdaugh_Quest","GLOBAL",1)~ GOTO 18
  IF ~~ THEN REPLY @25703 DO ~SetGlobal("Murdaugh_Quest","GLOBAL",1)~ EXIT
END

IF ~~ THEN BEGIN 18
  SAY @25624
  IF ~GlobalLT("Hjollder_Quest","GLOBAL",11)~ THEN REPLY @25704 GOTO 19
  IF ~~ THEN REPLY @25705 GOTO 23
  IF ~Global("Murdaugh_Quest","GLOBAL",0)~ THEN REPLY @25706 DO ~SetGlobal("Know_Murdaugh","GLOBAL",1)~ GOTO 3
  IF ~Global("Murdaugh_Quest","GLOBAL",1)~ THEN REPLY @25707 GOTO 17
  IF ~~ THEN REPLY @607 EXIT
END

IF ~~ THEN BEGIN 19
  SAY @25625
  IF ~~ THEN REPLY @25711 GOTO 32
  IF ~~ THEN REPLY @25712 GOTO 20
  IF ~~ THEN REPLY @25713 GOTO 21
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 20
  SAY @25626
  IF ~~ THEN REPLY @25711 GOTO 32
  IF ~~ THEN REPLY @25713 GOTO 21
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 21
  SAY @25627
  IF ~~ THEN REPLY @25711 GOTO 32
  IF ~~ THEN REPLY @25720 GOTO 22
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 22
  SAY @25628
  IF ~~ THEN REPLY @25711 GOTO 32
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 23
  SAY @25629
  IF ~Global("Body_Count","GLOBAL",1)~ THEN REPLY @25726 DO ~SetGlobal("Know_Digby_Dead","GLOBAL",1)~ GOTO 24
  IF ~Global("Body_Count","GLOBAL",2)~ THEN REPLY @25726 DO ~SetGlobal("Know_Dolan_Dead","GLOBAL",1)~ GOTO 25
  IF ~Global("Body_Count","GLOBAL",3)~ THEN REPLY @25726 DO ~SetGlobal("Know_Doogal_Dead","GLOBAL",1)~ GOTO 27
  IF ~~ THEN REPLY @25729 DO ~SetGlobal("Know_Emmerich","GLOBAL",1)~ GOTO 34
  IF ~~ THEN REPLY @25730 DO ~SetGlobal("Know_Quinn","GLOBAL",1)~ GOTO 29
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 24
  SAY @25630
  IF ~~ THEN REPLY @25736 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 25
  SAY @25631
  IF ~~ THEN REPLY @25733 GOTO 26
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 26
  SAY @25632
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 27
  SAY @25634
  IF ~~ THEN REPLY @25747 GOTO 28
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 28
  SAY @25635
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 29
  SAY @25636
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 30
  SAY @25637
  IF ~~ THEN REPLY @25652 DO ~SetGlobal("Know_Murdaugh","GLOBAL",1)~ GOTO 3
  IF ~~ THEN REPLY @25653 GOTO 18
  IF ~~ THEN REPLY @25654 EXIT
END

IF WEIGHT #2
~NumTimesTalkedToGT(0)~ THEN BEGIN 31
  SAY @25640
  IF ~Global("Murdaugh_Quest","GLOBAL",2)
      PartyHasItem("IceRose")~ THEN REPLY @26613 GOTO 49
  IF ~~ THEN REPLY @25760 GOTO 18
  IF ~Global("Murdaugh_Quest","GLOBAL",1)~ THEN REPLY @25707 GOTO 17
  IF ~~ THEN REPLY @19149 EXIT
END

IF ~~ THEN BEGIN 32
  SAY @25641
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 33
  SAY @25642
  IF ~~ THEN GOTO 38
END

IF ~~ THEN BEGIN 34
  SAY @25643
  IF ~~ THEN REPLY @2601 GOTO 18
  IF ~~ THEN REPLY @4743 EXIT
END

IF ~~ THEN BEGIN 35
  SAY @26368
  IF ~~ THEN EXTERN ~DKIERAN2~ 11
END

IF ~~ THEN BEGIN 36
  SAY @26369
  IF ~~ THEN EXTERN ~DKIERAN2~ 18
END

IF ~~ THEN BEGIN 37
  SAY @26370
  IF ~~ THEN EXTERN ~DKIERAN2~ 19
END

IF ~~ THEN BEGIN 38
  SAY @26568
  IF ~~ THEN GOTO 39
END

IF ~~ THEN BEGIN 39
  SAY @26569
  IF ~~ THEN GOTO 40
END

IF ~~ THEN BEGIN 40
  SAY @26590
  IF ~~ THEN GOTO 41
END

IF ~~ THEN BEGIN 41
  SAY @26591
  IF ~~ THEN GOTO 42
END

IF ~~ THEN BEGIN 42
  SAY @26592
  IF ~~ THEN GOTO 43
END

IF ~~ THEN BEGIN 43
  SAY @26593
  IF ~~ THEN GOTO 44
END

IF ~~ THEN BEGIN 44
  SAY @26594
  IF ~~ THEN GOTO 45
END

IF ~~ THEN BEGIN 45
  SAY @26595
  IF ~~ THEN GOTO 46
END

IF ~~ THEN BEGIN 46
  SAY @26596
  IF ~~ THEN GOTO 47
END

IF ~~ THEN BEGIN 47
  SAY @26597
  IF ~~ THEN GOTO 48
END

IF ~~ THEN BEGIN 48
  SAY @26598
  IF ~PartyHasItem("IceRose")~ THEN REPLY @26603 DO ~AddJournalEntry(@26325,QUEST)~ GOTO 49
  IF ~!PartyHasItem("IceRose")~ THEN REPLY @26604 DO ~AddJournalEntry(@26325,QUEST)~ GOTO 51
  IF ~!PartyHasItem("IceRose")~ THEN REPLY @26605 DO ~AddJournalEntry(@26325,QUEST)~ GOTO 51
  IF ~!PartyHasItem("IceRose")~ THEN REPLY @26606 DO ~AddJournalEntry(@26325,QUEST)~ EXIT
END

IF ~~ THEN BEGIN 49
  SAY @26599
  IF ~Global("D5_IWD_REAL","GLOBAL",1)~ THEN REPLY @26607 DO ~TakePartyItem("IceRose")
                              AddXP2DA("ID1EX12V")
                              DisplayStringNoNameDlg(LastTalkedToBy,@26575)~ GOTO 50
  IF ~Global("D5_IWD_REAL","GLOBAL",0)~ THEN REPLY @26607 DO ~TakePartyItem("IceRose")
                              AddXP2DA("ID1EX2V")
                              DisplayStringNoNameDlg(LastTalkedToBy,@26575)~ GOTO 50
END

IF ~~ THEN BEGIN 50
  SAY @26600
  IF ~~ THEN REPLY @26608 DO ~SetGlobal("Murdaugh_Quest","GLOBAL",3)
                              EraseJournalEntry(@26325)
                              EraseJournalEntry(@23534)
                              AddJournalEntry(@26326,QUEST_DONE)~ EXIT
END

IF ~~ THEN BEGIN 51
  SAY @26601
  IF ~~ THEN REPLY @26609 EXIT
END

IF WEIGHT #0
~Global("Murdaugh_Quest","GLOBAL",3)~ THEN BEGIN 52
  SAY @26602
  IF ~~ THEN REPLY @26610 DO ~StartStore("Kieran1",LastTalkedToBy)~ EXIT
  IF ~~ THEN REPLY @25650 GOTO 18
  IF ~~ THEN REPLY @25651 EXIT
END
